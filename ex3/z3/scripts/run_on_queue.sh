#!/bin/bash

## Give the Job a descriptive name
#PBS -N make_locks_z3

## Output and error files
#PBS -o make_locks_z3.out
#PBS -e make_locks_z3.err

## How many machines should we get?
#PBS -l nodes=1:ppn=1

##How long should the job run for?
#PBS -l walltime=00:10:00

## Start
## Run make in the src folder (modify properly)

cd /home/parallel/parlab30/a3/z3/

echo "Nthreads, Throughput(Kops/sec), Runtime(sec), Workload, MT_CONF"

echo "serial 1024 80 10 10"
MT_CONF=0 ./serial 1024 80 10 10
MT_CONF=0,1 ./serial 1024 80 10 10
MT_CONF=0,1,2,3 ./serial 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7 ./serial 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./serial 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./serial 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./serial 1024 80 10 10

echo "serial 8192 80 10 10"
MT_CONF=0 ./serial 8192 80 10 10 
MT_CONF=0,1 ./serial 8192 80 10 10 
MT_CONF=0,1,2,3 ./serial 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7 ./serial 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./serial 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./serial 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./serial 8192 20 40 40 

echo "serial 1024 20 40 40"
MT_CONF=0 ./serial 1024 20 40 40
MT_CONF=0,1 ./serial 1024 20 40 40
MT_CONF=0,1,2,3 ./serial 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7 ./serial 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./serial 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./serial 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./serial 1024 20 40 40

echo "serial 8192 20 40 40"
MT_CONF=0 ./serial 8192 20 40 40 
MT_CONF=0,1 ./serial 8192 20 40 40 
MT_CONF=0,1,2,3 ./serial 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7 ./serial 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./serial 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./serial 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./serial 8192 20 40 40 

echo "fgl 1024 80 10 10"
MT_CONF=0 ./fgl 1024 80 10 10
MT_CONF=0,1 ./fgl 1024 80 10 10
MT_CONF=0,1,2,3 ./fgl 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7 ./fgl 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./fgl 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./fgl 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./fgl 1024 80 10 10

echo "fgl 8192 80 10 10"
MT_CONF=0 ./fgl 8192 80 10 10 
MT_CONF=0,1 ./fgl 8192 80 10 10 
MT_CONF=0,1,2,3 ./fgl 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7 ./fgl 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./fgl 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./fgl 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./fgl 8192 20 40 40 

echo "fgl 1024 20 40 40"
MT_CONF=0 ./fgl 1024 20 40 40
MT_CONF=0,1 ./fgl 1024 20 40 40
MT_CONF=0,1,2,3 ./fgl 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7 ./fgl 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./fgl 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./fgl 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./fgl 1024 20 40 40

echo "fgl 8192 20 40 40"
MT_CONF=0 ./fgl 8192 20 40 40 
MT_CONF=0,1 ./fgl 8192 20 40 40 
MT_CONF=0,1,2,3 ./fgl 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7 ./fgl 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./fgl 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./fgl 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./fgl 8192 20 40 40 

echo "opt 1024 80 10 10"
MT_CONF=0 ./opt 1024 80 10 10
MT_CONF=0,1 ./opt 1024 80 10 10
MT_CONF=0,1,2,3 ./opt 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7 ./opt 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./opt 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./opt 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./opt 1024 80 10 10

echo "opt 8192 80 10 10"
MT_CONF=0 ./opt 8192 80 10 10 
MT_CONF=0,1 ./opt 8192 80 10 10 
MT_CONF=0,1,2,3 ./opt 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7 ./opt 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./opt 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./opt 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./opt 8192 20 40 40 

echo "opt 1024 20 40 40"
MT_CONF=0 ./opt 1024 20 40 40
MT_CONF=0,1 ./opt 1024 20 40 40
MT_CONF=0,1,2,3 ./opt 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7 ./opt 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./opt 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./opt 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./opt 1024 20 40 40

echo "opt 8192 20 40 40"
MT_CONF=0 ./opt 8192 20 40 40 
MT_CONF=0,1 ./opt 8192 20 40 40 
MT_CONF=0,1,2,3 ./opt 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7 ./opt 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./opt 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./opt 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./opt 8192 20 40 40 

echo "lazy 1024 80 10 10"
MT_CONF=0 ./lazy 1024 80 10 10
MT_CONF=0,1 ./lazy 1024 80 10 10
MT_CONF=0,1,2,3 ./lazy 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7 ./lazy 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./lazy 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./lazy 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./lazy 1024 80 10 10

echo "lazy 8192 80 10 10"
MT_CONF=0 ./lazy 8192 80 10 10 
MT_CONF=0,1 ./lazy 8192 80 10 10 
MT_CONF=0,1,2,3 ./lazy 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7 ./lazy 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./lazy 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./lazy 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./lazy 8192 20 40 40 

echo "lazy 1024 20 40 40"
MT_CONF=0 ./lazy 1024 20 40 40
MT_CONF=0,1 ./lazy 1024 20 40 40
MT_CONF=0,1,2,3 ./lazy 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7 ./lazy 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./lazy 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./lazy 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./lazy 1024 20 40 40

echo "lazy 8192 20 40 40"
MT_CONF=0 ./lazy 8192 20 40 40 
MT_CONF=0,1 ./lazy 8192 20 40 40 
MT_CONF=0,1,2,3 ./lazy 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7 ./lazy 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./lazy 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./lazy 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./lazy 8192 20 40 40 

echo "nb 1024 80 10 10"
MT_CONF=0 ./nb 1024 80 10 10
MT_CONF=0,1 ./nb 1024 80 10 10
MT_CONF=0,1,2,3 ./nb 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7 ./nb 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./nb 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./nb 1024 80 10 10
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./nb 1024 80 10 10

echo "nb 8192 80 10 10"
MT_CONF=0 ./nb 8192 80 10 10 
MT_CONF=0,1 ./nb 8192 80 10 10 
MT_CONF=0,1,2,3 ./nb 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7 ./nb 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./nb 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./nb 8192 80 10 10 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./nb 8192 20 40 40 

echo "nb 1024 20 40 40"
MT_CONF=0 ./nb 1024 20 40 40
MT_CONF=0,1 ./nb 1024 20 40 40
MT_CONF=0,1,2,3 ./nb 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7 ./nb 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./nb 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./nb 1024 20 40 40
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./nb 1024 20 40 40

echo "nb 8192 20 40 40"
MT_CONF=0 ./nb 8192 20 40 40 
MT_CONF=0,1 ./nb 8192 20 40 40 
MT_CONF=0,1,2,3 ./nb 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7 ./nb 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15 ./nb 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 ./nb 8192 20 40 40 
MT_CONF=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63 ./nb 8192 20 40 40 
